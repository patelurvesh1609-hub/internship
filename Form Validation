PART 1ï¸âƒ£ â€” CREATE FORM REQUEST CLASS
1ï¸âƒ£ Generate Request Class
php artisan make:request StoreUserRequest

ğŸ“„ File Created

app/Http/Requests/StoreUserRequest.php

PART 2ï¸âƒ£ â€” BASIC STRUCTURE

ğŸ“„ StoreUserRequest.php

<?php

namespace App\Http\Requests;

use Illuminate\Foundation\Http\FormRequest;

class StoreUserRequest extends FormRequest
{
    // Authorization check
    public function authorize()
    {
        return true; // or custom logic
    }

    // Validation rules
    public function rules()
    {
        return [
            'name'     => 'required|string|min:3',
            'email'    => 'required|email|unique:users,email',
            'password' => 'required|min:8|confirmed',
        ];
    }
}

PART 3ï¸âƒ£ â€” USE FORM REQUEST IN CONTROLLER

ğŸ“„ Controller

app/Http/Controllers/UserController.php

use App\Http\Requests\StoreUserRequest;

public function store(StoreUserRequest $request)
{
    // Only validated data
    $data = $request->validated();

    User::create($data);

    return redirect()->back()->with('success', 'User created');
}

PART 4ï¸âƒ£ â€” COMPLEX VALIDATION RULES ğŸ”¥
1ï¸âƒ£ Conditional Validation
public function rules()
{
    return [
        'type' => 'required',
        'company_name' => 'required_if:type,business',
    ];
}

2ï¸âƒ£ Unique Rule (Update Case)
use Illuminate\Validation\Rule;

public function rules()
{
    return [
        'email' => [
            'required',
            'email',
            Rule::unique('users')->ignore($this->user),
        ],
    ];
}

3ï¸âƒ£ Array Validation
'items' => 'required|array',
'items.*.name' => 'required|string',
'items.*.qty' => 'required|integer|min:1',

4ï¸âƒ£ Custom Regex Rule
'phone' => ['required', 'regex:/^[6-9]\d{9}$/'],

PART 5ï¸âƒ£ â€” CUSTOM ERROR MESSAGES
public function messages()
{
    return [
        'email.required' => 'Email is mandatory',
        'password.min' => 'Password must be at least 8 characters',
    ];
}

PART 6ï¸âƒ£ â€” CUSTOM ATTRIBUTE NAMES
public function attributes()
{
    return [
        'email' => 'Email Address',
        'password' => 'Account Password',
    ];
}

PART 7ï¸âƒ£ â€” AUTHORIZATION LOGIC ğŸ” (VERY IMPORTANT)
public function authorize()
{
    return auth()->check() && auth()->user()->is_admin;
}

PART 8ï¸âƒ£ â€” API VALIDATION RESPONSE (ADVANCED)

Override failed validation for APIs:

use Illuminate\Contracts\Validation\Validator;
use Illuminate\Http\Exceptions\HttpResponseException;

protected function failedValidation(Validator $validator)
{
    throw new HttpResponseException(
        response()->json([
            'success' => false,
            'errors' => $validator->errors(),
        ], 422)
    );
}
