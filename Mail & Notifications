PART 1ï¸âƒ£ â€” CONFIGURE SMTP
ğŸ”¹ 1ï¸âƒ£ Update .env File

ğŸ“„ .env

MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=your_email@gmail.com
MAIL_FROM_NAME="Laravel App"

ğŸ”¹ Gmail Setup (Important ğŸ”¥)

Enable 2-Step Verification

Generate App Password

Use that password in MAIL_PASSWORD

ğŸ”¹ Clear Config Cache
php artisan config:clear
php artisan cache:clear


PART 2ï¸âƒ£ â€” CREATE A MAILABLE CLASS
ğŸ”¹ 2ï¸âƒ£ Generate Mailable
php artisan make:mail OrderConfirmation


ğŸ“„ Files Created:

app/Mail/OrderConfirmation.php
resources/views/emails/order_confirmation.blade.php

PART 3ï¸âƒ£ â€” DEFINE MAILABLE LOGIC
ğŸ“„ app/Mail/OrderConfirmation.php
<?php

namespace App\Mail;

use Illuminate\Mail\Mailable;

class OrderConfirmation extends Mailable
{
    public $order;

    public function __construct($order)
    {
        $this->order = $order;
    }

    public function build()
    {
        return $this->subject('Order Confirmation')
                    ->view('emails.order_confirmation');
    }
}

PART 4ï¸âƒ£ â€” CREATE EMAIL TEMPLATE
ğŸ“„ resources/views/emails/order_confirmation.blade.php
<h2>Order Confirmed ğŸ‰</h2>

<p>Hello {{ $order->user->name }},</p>

<p>Your order #{{ $order->id }} has been placed successfully.</p>

<p>Total Amount: â‚¹{{ $order->total }}</p>

<p>Thank you for shopping with us!</p>

PART 5ï¸âƒ£ â€” SEND EMAIL FROM CONTROLLER
ğŸ“„ app/Http/Controllers/OrderController.php
use App\Mail\OrderConfirmation;
use Illuminate\Support\Facades\Mail;

public function store(Request $request)
{
    $order = Order::create([...]);

    Mail::to($order->user->email)
        ->send(new OrderConfirmation($order));

    return back()->with('success', 'Order placed & email sent!');
}

PART 6ï¸âƒ£ â€” AUTOMATED EMAILS (EVENT-BASED ğŸ”¥)

Instead of sending manually, send after:

Registration

Order placement

Password reset

Status update

Example: Send After User Registration

ğŸ“„ app/Providers/EventServiceProvider.php

protected $listen = [
    Registered::class => [
        SendEmailVerificationNotification::class,
    ],
];


Or manually in Register controller.

PART 7ï¸âƒ£ â€” QUEUE EMAILS (VERY IMPORTANT ğŸ”¥)

Sending emails directly slows response.

Use Queue:

1ï¸âƒ£ Implement Queue in Mailable
use Illuminate\Contracts\Queue\ShouldQueue;

class OrderConfirmation extends Mailable implements ShouldQueue

2ï¸âƒ£ Configure Queue

ğŸ“„ .env

QUEUE_CONNECTION=database

php artisan queue:table
php artisan migrate
php artisan queue:work

PART 8ï¸âƒ£ â€” MARKDOWN MAIL (PRO LOOK ğŸ”¥)
php artisan make:mail InvoiceMail --markdown=emails.invoice


Creates styled email template automatically.

ğŸ“„ Example:

return $this->markdown('emails.invoice')
            ->subject('Invoice')
            ->with(['invoice' => $this->invoice]);


PART 9ï¸âƒ£ â€” ATTACHMENTS (OPTIONAL)
return $this->subject('Invoice')
            ->view('emails.invoice')
            ->attach(storage_path('app/invoice.pdf'));
